/*
*  jetSlider v1.0.1
*  Simple plugin for making beautiful page transitions
*  Copyright 2014 DevHub, Pavel Gavrilenko
*  Examples and docs: https://github.com/gavr-pavel/jetSlider
*/
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(b){var c=["slideSelector","transitionDuration","scroll","keyboard","easing","jsFallback"],d={};return a.each(c,function(a,c){d[c]=b.data(c)}),d}function c(c,d){var e=this;this._$win=a(window),this._$doc=a(document),this._$body=a(document.body),this._el=c,this._$el=a(c),this.options=a.extend({},a.fn.jetSlider.defaults,b(this._$el),d),this._$el.parent().is(this._$body)?(this._$viewport=a("html,body"),this._$body.css({overflow:"hidden"}),null==this.options.keyboard&&(this.options.keyboard=!0)):(this._$viewport=this._$el.parent(),this._$viewport.css({overflow:"hidden"})),this._$viewport.scrollLeft(0).scrollTop(0),this._$el.css({position:"relative"}).addClass("jetslider"),/loaded|complete/.test(document.readyState)||this._$win.one("load",function(){setTimeout(function(){e._$viewport.scrollLeft(0).scrollTop(0)},0)}),this._$slides=this._$el.find(this.options.slideSelector),this._slidesNum=this._$slides.length,this._currentIndex=0,this._animating=!1,this._animationsDisabled=!1,this._initHandlers()}var d={checkCssProp:function(a){var b=["Moz","Webkit","O","ms"],c=document.createElement("div");if("string"==typeof c.style[a])return a;for(var d=b.length;d--;){var e=b[d]+a.charAt(0).toUpperCase()+a.slice(1);if("string"==typeof c.style[e])return"-"+b[d].toLowerCase()+"-"+a}return!1},supportsProps:function(){for(var a=[].slice.call(arguments),b=a.length;b--;)if(!this.checkCssProp(a[b]))return!1;return!0},supports3d:function(){var a=this.checkCssProp("transform");if(!a)return!1;var b=document.createElement("div");return b.style.cssText=a+": translate3d(0px, 0px, 0px);",/transform: translate3d\(0px, 0px, 0px\);$/.test(b.style.cssText)}};d.supportsProps("transition","transform")?(c.prototype._moveMethod="css",c.prototype._3dSupport=d.supports3d(),c.prototype._move=function(a,b){var c=a.position(),d=this._$viewport[0].getBoundingClientRect(),e=a[0].getBoundingClientRect();e.width<d.width&&(c.left-=d.width-e.width),e.height<d.height&&(c.top-=d.height-e.height);var f;f=this._3dSupport?"translate3d("+-c.left+"px, "+-c.top+"px, 0)":"translate("+-c.left+"px, "+-c.top+"px)",this._$el.css({transitionDuration:this._animationsDisabled?"0s":(this.options.transitionDuration/1e3).toFixed(2)+"s",transitionTimingFunction:this.options.easing,transform:f,backfaceVisibility:"hidden"}),b&&this._$el.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",b)}):(c.prototype._moveMethod="js",c.prototype._move=function(b,c){var d=b.offset();if(this._animationsDisabled||!this.options.jsFallback)this._$viewport.scrollLeft(d.left).scrollTop(d.top),c&&c();else{var e=this,f=Date.now(),g=this.options.transitionDuration,h=this._$viewport.scrollLeft(),i=this._$viewport.scrollTop(),j=a.easing.swing;!function k(){var a=(Date.now()-f)/g;if(1>a){var b=h+Math.round((d.left-h)*j(a)),l=i+Math.round((d.top-i)*j(a));e._$viewport.scrollLeft(b).scrollTop(l),setTimeout(k,16)}else e._$viewport.scrollLeft(d.left).scrollTop(d.top),c&&c()}()}}),c.prototype.moveTo=function(b){this._animating||0>b||b>=this._slidesNum||b==this._currentIndex||(a.isFunction(this.options.onBeforeMove)&&this.options.onBeforeMove.call(this._el,b,this._currentIndex),this._animating=!0,this._$el.css({pointerEvents:"none"}),this._move(this._$slides.eq(b),a.proxy(function(){a.isFunction(this.options.onAfterMove)&&this.options.onAfterMove.call(this._el,b,this._currentIndex),this._currentIndex=b,this._animating=!1,this._$el.css({pointerEvents:""}),this._lastAnimationEnded=Date.now(),this._resizeHandleNeeded&&(this._resizeHandler(),this._resizeHandleNeeded=!1)},this)))},c.prototype.moveUp=function(){this.moveTo(this._currentIndex-1)},c.prototype.moveDown=function(){this.moveTo(this._currentIndex+1)},c.prototype.setOption=function(a,b){this.options[a]=b},c.prototype._initHandlers=function(){this._resizeHandler=a.proxy(this._resizeHandler,this),this._keyHandler=a.proxy(this._keyHandler,this),this._mouseHandler=a.proxy(this._mouseHandler,this),this._touchStartHandler=a.proxy(this._touchStartHandler,this),this._touchMoveHandler=a.proxy(this._touchMoveHandler,this),this._$win.on("resize",this._resizeHandler),this._$doc.on("keydown",this._keyHandler),this._$viewport.on("mousewheel DOMMouseScroll MozMousePixelScroll",this._mouseHandler).on("touchstart",this._touchStartHandler).on("touchmove",this._touchMoveHandler),(this._$viewport.is(this._$body)?this._$win:this._$viewport).on("scroll",this._scrollHandler)},c.prototype._scrollHandler=function(){"css"===this._moveMethod&&this._$viewport.scrollLeft(0).scrollTop(0)},c.prototype._resizeHandler=function(){this._scrollHandler(),this._animating?this._resizeHandleNeeded=!0:(this._animationsDisabled=!0,this._move(this._$slides.eq(this._currentIndex)),this._animationsDisabled=!1)},c.prototype._mouseHandler=function(a){if(a.preventDefault(),this.options.scroll&&!(this._animating||Date.now()-this._lastAnimationEnded<1500-this.options.transitionDuration)){var b=a.originalEvent.wheelDelta||-a.originalEvent.detail,c=b>0?-1:1;this.moveTo(this._currentIndex+c)}},c.prototype._keyHandler=function(a){if(this.options.keyboard)switch(a.keyCode){case 37:case 38:this._$body.is(a.target)&&(a.preventDefault(),this.moveTo(this._currentIndex-1));break;case 39:case 40:this._$body.is(a.target)&&(a.preventDefault(),this.moveTo(this._currentIndex+1))}},c.prototype._touchStartHandler=function(a){a.preventDefault();var b=a.originalEvent.touches[0];this._touchStartedAt={x:b.pageX,y:b.pageY}},c.prototype._touchMoveHandler=function(a){if(a.preventDefault(),!this._animating){var b=a.originalEvent.touches[0],c=b.pageX-this._touchStartedAt.x,d=b.pageY-this._touchStartedAt.y;c>50||d>50?this.moveUp():(-50>c||-50>d)&&this.moveDown()}},c.prototype.destroy=function(){this._$el.css({position:"",transition:"",transform:"",backfaceVisibility:""}),this._$el.removeClass("jetslider"),this._$viewport.css({overflow:""}),this._$viewport.off("mousewheel DOMMouseScroll MozMousePixelScroll",this._mouseHandler).off("touchstart",this._touchStartHandler).off("touchmove",this._touchMoveHandler),this._$win.off("resize",this._resizeHandler),this._$doc.off("keydown",this._keyHandler),(this._$viewport.is(this._$body)?this._$win:this._$viewport).off("scroll",this._scrollHandler),a.removeData(this._el,"plugin_jetslider")},a.fn.jetSlider=function(){if("string"==typeof arguments[0]){var b=[].slice.call(arguments);return this.each(function(){var c=a.data(this,"plugin_jetslider");if(c)switch(b[0].toLowerCase()){case"moveup":c.moveUp();break;case"movedown":c.moveDown();break;case"moveto":c.moveTo(b[1]);break;case"destroy":c.destroy();break;default:c.setOption(b[0],b[1])}})}var d=arguments[0];return this.each(function(){var b=new c(this,d);a.data(this,"plugin_jetslider",b)})},a.fn.jetSlider.defaults={slideSelector:"section",transitionDuration:1e3,scroll:!0,keyboard:null,easing:"ease",jsFallback:!0,onBeforeMove:null,onAfterMove:null},a(function(){a("[data-jetslider]").jetSlider()})});
//# sourceMappingURL=jquery.jetslider.min.js.map